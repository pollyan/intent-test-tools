# 数据流功能快速测试指南

## 🚀 环境已启动成功！

✅ **Web服务器**: http://localhost:5001  
✅ **数据流功能**: 已集成并可测试  
⚠️  **MidScene服务器**: 暂未启动（Node.js依赖问题）

## 🎯 立即开始测试

### 第一步：访问Web界面
点击打开：**[http://localhost:5001](http://localhost:5001)**

### 第二步：快速测试场景

#### 🔥 核心测试：智能变量提示
1. 点击"测试用例管理"
2. 点击"新建测试用例"
3. 输入名称："数据流测试"
4. 添加第一个步骤：
   - 动作类型：`aiQuery`
   - 输出变量：`userInfo`
5. 添加第二个步骤：
   - 动作类型：`aiInput`
   - 在"输入文本"字段中输入：`${`
   - **观察智能提示下拉菜单是否出现**
   - **检查是否显示`userInfo`变量**

#### 🔍 期待的效果
- 输入`${`时自动弹出变量提示
- 显示之前步骤定义的变量
- 支持属性访问如`${userInfo.name}`
- 实时预览变量解析结果
- 语法错误时显示错误提示

## 📋 详细测试清单

### ✅ 基础功能测试
- [ ] 创建测试用例成功
- [ ] 添加步骤正常工作
- [ ] 智能变量提示正常触发
- [ ] 变量列表显示准确
- [ ] 变量选择后正确插入

### ✅ 高级功能测试
- [ ] 对象属性访问：`${obj.property}`
- [ ] 嵌套属性：`${obj.nested.value}`
- [ ] 数组访问：`${array[0]}`
- [ ] 多变量引用：`${var1} 和 ${var2}`
- [ ] 实时预览显示正确

### ✅ 错误处理测试
- [ ] 无效变量引用显示错误
- [ ] 语法错误提供修复建议
- [ ] 不存在的属性给出提示

### ✅ 用户体验测试
- [ ] 界面响应速度良好
- [ ] 提示菜单定位准确
- [ ] 键盘导航正常工作
- [ ] 模式切换功能正常

## 🐛 问题反馈

测试过程中如果发现问题，请记录：

1. **操作步骤**：你做了什么
2. **预期结果**：应该发生什么
3. **实际结果**：实际发生了什么
4. **截图**：如果有界面问题

## 💡 测试技巧

### 快速创建复杂场景
```json
// 第一步：用户注册
{
  "action": "aiQuery",
  "params": {
    "query": "注册新用户",
    "schema": {
      "username": "string",
      "email": "string",
      "userId": "string"
    }
  },
  "output-variable": "user"
}

// 第二步：登录测试
{
  "action": "aiInput", 
  "params": {
    "text": "${user.username}",
    "locate": "用户名输入框"
  }
}
```

### 测试智能提示功能
1. 在支持变量的字段中输入`${`
2. 观察下拉提示菜单
3. 使用键盘上下键选择
4. 按Enter确认选择
5. 检查实时预览效果

### 测试验证功能
1. 输入无效引用：`${invalid}`
2. 检查错误提示是否清晰
3. 输入语法错误：`${obj.}`
4. 查看修复建议是否有用

## 🎉 成功标志

如果看到以下效果，说明数据流功能工作正常：

✅ 输入`${`后立即弹出智能提示  
✅ 提示列表包含之前步骤的变量  
✅ 选择变量后正确插入到输入框  
✅ 实时预览显示变量解析结果  
✅ 错误时显示清晰的错误信息  
✅ 双模式切换（增强/JSON）正常工作  

## 🚀 下一步

测试完成后，您可以：
1. 创建更复杂的测试场景
2. 测试不同类型的数据变量
3. 验证跨步骤数据传递
4. 体验智能提示的便利性

---

**祝测试愉快！** 🎯