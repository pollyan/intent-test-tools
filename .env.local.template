# 意图测试平台 - 本地开发环境配置模板
# 复制此文件为 .env 并填写实际配置信息

# ==================== 数据库配置 ====================
# 统一使用SQLite数据库，支持本地开发和Vercel无服务器部署
# 本地开发: 使用本地文件数据库
DATABASE_URL=sqlite:///data/app.db

# 生产环境: Vercel会自动处理SQLite数据库的临时存储
# 注意：Vercel环境中数据库在每次部署时会重置，适合演示和测试

# ==================== AI服务配置 ====================
# 选择以下其中一种AI服务配置

# 选项1: 阿里云DashScope (推荐，性价比高)
OPENAI_API_KEY=sk-your-dashscope-api-key-here
OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
MIDSCENE_MODEL_NAME=qwen-vl-max-latest

# 选项2: OpenAI GPT-4V (取消注释使用)
# OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1
# MIDSCENE_MODEL_NAME=gpt-4o

# 选项3: Google Gemini (取消注释使用)
# OPENAI_API_KEY=your-gemini-api-key-here
# OPENAI_BASE_URL=https://generativelanguage.googleapis.com/v1beta/openai/
# MIDSCENE_MODEL_NAME=gemini-2.5-pro
# MIDSCENE_USE_GEMINI=1

# ==================== 服务端口配置 ====================
# Web服务端口 (Flask应用)
WEB_PORT=5001

# MidScene AI服务端口
MIDSCENE_PORT=3001

# ==================== 应用配置 ====================
# Flask应用密钥 (生产环境请使用随机字符串)
SECRET_KEY=dev-secret-key-change-in-production

# 调试模式 (生产环境设为false)
DEBUG=true

# 日志级别
LOG_LEVEL=INFO

# ==================== 浏览器配置 ====================
# 默认浏览器模式 (headless/browser)
DEFAULT_BROWSER_MODE=headless

# 浏览器超时时间 (毫秒)
BROWSER_TIMEOUT=30000

# 截图存储目录
SCREENSHOT_DIR=screenshots

# ==================== 开发环境配置 ====================
# 开发环境标识
DEVELOPMENT=true

# 自动重载 (代码变化时自动重启)
FLASK_ENV=development

# 跨域允许的域名 (开发环境允许所有)
CORS_ORIGINS=*

# ==================== 性能优化配置 ====================
# SQLite数据库配置
# SQLite使用文件锁定，无需连接池配置

# 数据库操作超时 (秒)
DATABASE_TIMEOUT=30

# 请求超时 (秒)
REQUEST_TIMEOUT=60

# ==================== 安全配置 ====================
# JWT密钥 (如果使用用户认证)
JWT_SECRET_KEY=jwt-dev-secret-key

# Session超时 (秒)
SESSION_TIMEOUT=3600

# ==================== 测试配置 ====================
# 测试数据库 (用于单元测试)
TEST_DATABASE_URL=sqlite:///data/test.db

# 测试时使用的默认超时
TEST_TIMEOUT=10000

# ==================== 日志配置 ====================
# 日志文件位置
LOG_FILE=logs/app.log

# 日志文件最大大小 (MB)
LOG_MAX_SIZE=10

# 保留的日志文件数量
LOG_BACKUP_COUNT=5

# ==================== 缓存配置 ====================
# 缓存类型 (simple/redis)
CACHE_TYPE=simple

# Redis URL (如果使用Redis缓存)
# REDIS_URL=redis://localhost:6379/0

# ==================== 文件上传配置 ====================
# 上传文件最大大小 (MB)
MAX_UPLOAD_SIZE=16

# 允许的文件类型
ALLOWED_EXTENSIONS=png,jpg,jpeg,gif,pdf,json

# 上传文件存储目录
UPLOAD_DIR=uploads

# ==================== 邮件配置 (可选) ====================
# SMTP服务器配置 (用于发送测试报告)
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password

# ==================== 监控配置 (可选) ====================
# 启用性能监控
ENABLE_MONITORING=false

# Prometheus监控端点
# PROMETHEUS_PORT=9090

# ==================== 备份配置 ====================
# 自动备份数据库
AUTO_BACKUP=true

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# 备份目录
BACKUP_DIR=backups